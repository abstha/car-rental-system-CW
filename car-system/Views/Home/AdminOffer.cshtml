
@{
	var userId = Context.Session.GetString("UserId");
}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible"
		content="IE=edge">
	<meta name="viewport"
		content="width=device-width,
				initial-scale=1.0">
	<title>Admin</title>
	<link rel="stylesheet"
		  href="~/css/adminOffer.css">
	
</head>

<body>

	<!-- for header part -->
	<header>

		<div class="logosec">
			<div class="logo"> Dashboard</div>
		
		</div>

		
		

		<div class="message">
			
			<div class="dp">
			<img src=
"https://media.geeksforgeeks.org/wp-content/uploads/20221210180014/profile-removebg-preview.png"
					class="dpicn"
					alt="dp">
			</div>
		</div>

	</header>

	<div class="main-container">
		<div class="navcontainer">
			<nav class="nav">
				<div class="nav-upper-options">

                    <a href="/Home/AdminStaff">
					<div class="nav-option option1">
                       
						<img src=
"https://media.geeksforgeeks.org/wp-content/uploads/20221210182148/Untitled-design-(29).png"
							class="nav-img"
							alt="dashboard">
						<h3> Staffs</h3>
                    
					</div></a>

					<a href="/Home/AdminCar">
						<div class="nav-option option4">
						   
							<img src=
	"https://media.geeksforgeeks.org/wp-content/uploads/20221210182148/Untitled-design-(29).png"
								class="nav-img"
								alt="dashboard">
							<h3> Cars</h3>
						
						</div></a>

                    <a href="/Home/AdminOffer">
					<div class="option2 nav-option" style="text-decoration: none;">
                        
						<img src=
"https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/9.png"
							class="nav-img"
							alt="articles">
						<h3> Offers</h3>
                    
					</div></a>

					<a href="/Home/AddStaff">
						<div class=" nav-option option3"  style="text-decoration: none;">
							
							<img src=
	"https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/9.png"
								class="nav-img"
								alt="articles">
							<h3> Add Staff</h3>
						
						</div></a>

						<a href="/Home/AddCar">
                            <div class=" nav-option option5"  style="text-decoration: none;">
                                
                                <img src=
        "https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/9.png"
                                    class="nav-img"
                                    alt="articles">
                                <h3> Add Car</h3>
                            
                            </div></a>

					<a href="/Home/AdminRequests">
						<div class=" nav-option option" style="text-decoration: none;">

							<img src="https://media.geeksforgeeks.org/wp-content/uploads/20221210183322/9.png"
								 class="nav-img" alt="articles">
							<h3>User Request</h3>

						</div>
					</a>

					

					<div class="nav-option logout">
						<img src=
"https://media.geeksforgeeks.org/wp-content/uploads/20221210183321/7.png"
							class="nav-img"
							alt="logout">
						<h3>Logout</h3>
					</div>

				</div>
			</nav>
		</div>
		<div class="formbold-main-wrapper">
            <div class="formbold-form-wrapper">
                <div class="formbold-form-title">
                    <h2 class="">Create your Offers <i class="fa-solid fa-car-side fa-flip-horizontal"></i></h2>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                        eiusmod tempor incididunt.
                    </p>
                </div>
				<form asp-controller="Offer" asp-action="CreateOffer" method="post" id="createOfferForm">
					<div class="formbold-input-flex">
						<div>
							<label for="startDate" class="formbold-form-label">From</label>
							<input type="date" name="StartDate" id="startDate" class="formbold-form-input" required />
						</div>
						<div>
							<label for="endDate" class="formbold-form-label">To</label>
							<input type="date" name="EndDate" id="endDate" class="formbold-form-input" required />
						</div>
					</div>

					<div class="formbold-input-flex">
						<div>
							<label for="value" class="formbold-form-label">Value</label>
							<input type="text" name="Value" id="value" class="formbold-form-input" required />
						</div>
						<div>
							<label for="offerDescription" class="formbold-form-label">Offer Description</label>
							<input type="text" name="OfferDescription" id="offerDescription" class="formbold-form-input" required />
						</div>
					</div>

					<div class="formbold-input-flex">
						<div>
							<label for="createdByUserID" class="formbold-form-label">Created By UserID</label>
							<input type="hidden" name="CreatedByUserID" id="createdByUserID" class="formbold-form-input" value="@userId" required />
						</div>
					</div>

					<button type="submit" class="formbold-btn">Submit form</button>
				</form>
            </div>
        </div>

	<script src="./index.js"></script>
</body>

<script>
	const form = document.getElementById("createOfferForm");

	form.addEventListener("submit", function (event) {
		event.preventDefault(); // Prevent default form submission

		// Collect form data
		const formData = new FormData(form);

		// Send a POST request to the API endpoint
		fetch('https://localhost:7043/api/offer', {
			method: "POST",
			body: formData
		})
			.then(response => {
				if (response.ok) {
					// Success
					console.log("Offer created successfully!");
					// Perform any additional actions or redirection
				} else {
					// Error
					console.error("Failed to create offer:", response.statusText);
					// Handle the error or display a message to the user
				}
			})
			.catch(error => {
				console.error("Failed to create offer:", error);
				// Handle the error or display a message to the user
			});
	});
</script>
</html>
